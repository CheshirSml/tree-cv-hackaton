<script setup lang="ts">
import treePhoto1 from '@images/trees/tree1.jpg';
import treePhoto2 from '@images/trees/tree2.jpg';
import treePhoto3 from '@images/trees/tree3.jpg';
import { ref } from "vue";

interface Photo {
  id: number
  src: string
  status: "–í –æ–±—Ä–∞–±–æ—Ç–∫–µ" | "–û–∂–∏–¥–∞–Ω–∏–µ" | "–ì–æ—Ç–æ–≤–æ"
}

const photos = ref<Photo[]>([
  { id: 1, src: treePhoto1, status: "–í –æ–±—Ä–∞–±–æ—Ç–∫–µ" },
  { id: 2, src: treePhoto2, status: "–û–∂–∏–¥–∞–Ω–∏–µ" },
  { id: 3, src: treePhoto3, status: "–ì–æ—Ç–æ–≤–æ" },
])

const takePhoto = () => {
  console.log("üì∑ –°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞—Ç—å –¥–µ—Ä–µ–≤–æ/–∫—É—Å—Ç")
}

const uploadPhotos = () => {
  console.log("üìÇ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏")
}

const finishSurvey = () => {
  console.log("‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ")
}
</script>

<template>
  <v-container class="pa-4" style="max-width: 480px">
    <!-- –í–µ—Ä—Ö–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ -->
    <div class="d-flex flex-column gap-3 mb-6">
      <v-btn block color="primary" rounded="xl" prepend-icon="ri-camera-line" @click="takePhoto">
        –°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞—Ç—å –¥–µ—Ä–µ–≤–æ/–∫—É—Å—Ç
      </v-btn>

      <v-btn block color="secondary" rounded="xl" prepend-icon="ri-upload-2-line" @click="uploadPhotos">
        –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏
      </v-btn>
    </div>

    <!-- –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ -->
    <v-row dense>
      <v-col v-for="photo in photos" :key="photo.id" cols="6" class="mb-4">
        <v-sheet class="pa-2 d-flex flex-column align-center" rounded="lg" elevation="2">
          <div class="position-relative w-100">
            <v-img :src="photo.src" aspect-ratio="1" class="rounded-lg" cover />
            <!-- –õ–æ–∞–¥–µ—Ä –ø–æ–≤–µ—Ä—Ö –∫–∞—Ä—Ç–∏–Ω–∫–∏ -->
            <v-progress-circular v-if="photo.status !== '–ì–æ—Ç–æ–≤–æ'" indeterminate color="primary" size="32"
              class="position-absolute top-50 start-50 translate-middle" />
          </div>

          <!-- –°—Ç–∞—Ç—É—Å -->
          <div class="d-flex align-center mt-2">
            <span class="me-2 rounded-circle" :style="{
              width: '10px',
              height: '10px',
              backgroundColor:
                photo.status === '–ì–æ—Ç–æ–≤–æ'
                  ? '#4CAF50'
                  : photo.status === '–û–∂–∏–¥–∞–Ω–∏–µ'
                    ? '#FFC107'
                    : '#2196F3'
            }" />
            <span class="text-caption text-medium-emphasis">
              {{ photo.status }}
            </span>
          </div>
        </v-sheet>
      </v-col>
    </v-row>

    <!-- –ö–Ω–æ–ø–∫–∞ –∑–∞–≤–µ—Ä—à–∏—Ç—å -->
    <v-btn class="mt-6" block color="success" rounded="xl" @click="finishSurvey">
      –ó–∞–≤–µ—Ä—à–∏—Ç—å –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
    </v-btn>
  </v-container>
</template>
